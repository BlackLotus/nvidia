# Contributor: Jens Pranaitis <jens@jenux.homelinux.org>
pkgname=networkmanager-plasmoid
pkgver=898969
pkgrel=1
license=("GPL")
arch=(i686 x86_64)
pkgdesc="A NetworkManager front-end for KDE4"
url="http://en.opensuse.org/Projects/KNetworkManager"
makedepends=('pkgconfig' 'subversion')
provides=('knetworkmanager')
conflicts=('knetworkmanager')
source=()
md5sums=()
_svn_plasma=svn://anonsvn.kde.org/home/kde/trunk/playground/base/plasma/
_svntrunk=svn://anonsvn.kde.org/home/kde/trunk/playground/base/plasma/applets/$_svnmod
_svnmod=networkmanager

build() {
	cd $srcdir/ 
	msg "Updating SVN entries for $_svnmod ..." 
	touch ~/.subversion 
	svn co $_svn_plasma
	msg "Finished update, starting build ..."
	cd plasma
	cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=RELEASE || return 1
	cd applets/networkmanager
	make || return 1
	make DESTDIR=$pkgdir/ install
}
