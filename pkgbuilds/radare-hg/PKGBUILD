# Contributor: Jens Pranaitis <jens@jenux.homelinux.org>
# Contributor Shino <shino@jenux.homelinux.org>
pkgname="radare-hg"
pkgver=708
pkgrel=2
pkgdesc="A collection of tools with the aim to create a complete, portable, multi-architecture, unix-like toolchain for reverse engineering."
arch=('i686' 'x86_64')
url="http://radare.nopcode.org"
license=('GPL2')
depends=('python' 'lua' 'vte' 'bash' 'perl')
makedepends=('mercurial')
provides="radare"
conflicts="radare"
source=()
md5sums=()

_hgurl="http://radare.org/hg/radare"

build() {
	cd "${srcdir}"
	
	msg "Source checkout..."
	hg clone $_hgurl


	cd radare

	msg "Configuring..."
	./waf configure || return 1

	msg "Building..."
	./waf build || return 1

	msg "Installing..."
	./waf --destdir="${pkgdir}" install || return 1
}
