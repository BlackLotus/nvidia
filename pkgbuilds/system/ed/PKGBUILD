# Contributor: Jens Pranaitis <jens@jenux.homelinux.org>
# Contributor: Andreas Radke <andyrtr@archlinux.org>
pkgname=ed
pkgver=1.2
pkgrel=1
pkgdesc="A POSIX-compliant line editor"
arch=('i686' 'x86_64')
license=('GPL')
url="http://www.gnu.org/software/ed/ed.html"
install=ed.install
groups=('base-devel')
options=('!emptydirs')
source=(ftp://ftp.gnu.org/gnu/ed/${pkgname}-${pkgver}.tar.gz)
md5sums=('3d42ac815b2dfd9c82a89dbd03151519')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  ./configure --prefix=/
  make || return 1
# installing executable
  install -D -m755 ed ${pkgdir}/bin/ed
  cd ${pkgdir}/bin
  ln ed red
# installing man page
  cd ${srcdir}/${pkgname}-${pkgver}
  install -D -m644 doc/ed.1 ${pkgdir}/usr/share/man/man1/ed.1
  cd ${pkgdir}/usr/share/man/man1
  ln ed.1 red.1
# installing info files
  cd ${srcdir}/${pkgname}-${pkgver}
  install -D -m644 doc/ed.info ${pkgdir}/usr/share/info/ed.info
  cd ${pkgdir}/usr/share/info
  ln ed.info red.info
}